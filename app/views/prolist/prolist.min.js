/** 
 * @Description: DX 
 * @author: songxiaoqiang 
 * @Update: 2016-03-29 00:03 
 */ 

"use strict";angular.module("myApp.prolist",["ngRoute"]).config(["$routeProvider",function(a){a.when("/prolist",{templateUrl:"views/prolist/prolist.html",controller:"ProlistCtrl"}),a.when("/prolist_en",{templateUrl:"views/prolist/prolist_en.html",controller:"ProlistCtrl"})}]).controller("ProlistCtrl",["$rootScope","$scope","$location",function(a,b,c){switch(a.closeNav(),$(".nav-list ul>li").removeClass("cur"),$(".nav-list ul>li").eq(1).addClass("cur"),$(".scroll-wrap").scroll(function(){return 0==$(this).scrollTop()?($(".nav-bg").removeClass("fadeInDown"),!1):void $(".nav-bg").addClass("fadeInDown")}),$(".search-open li").live("click",function(){$(this).toggleClass("cur")}),$(".show-all").click(function(){$(".search-open li").addClass("cur")}),$(".search-close").click(function(){$(".search-area").toggleClass("open")}),Array.prototype.remove=function(a,b){var c=this.slice((b||a)+1||this.length);return this.length=0>a?this.length+a:a,this.push.apply(this,c)},b.buildData=function(){var a=[];return angular.forEach(b.listpro,function(b,c){angular.forEach(b,function(b,d){a.push({prokey:d,category:c,img_name:b.img_name,pro_name:b.pro_name})})}),a},b.seachresult=[],b.listpro={},b.section=c.search().section,c.search().section){case"baojinpin":b.listpro=a.prodata,b.newlistpro=b.buildData();break;default:b.listpro=a.prodata,b.newlistpro=b.buildData()}b.searchall=function(){b.seachresult=[];for(var c=0;c<a.categories.length;c++)b.seachresult.push(a.categories[c]);b.listpro=a.prodata,b.newlistpro=b.buildData()},b.search=function(c){if(b.listpro={},b.seachresult.indexOf(c)<0?b.seachresult.push(c):b.seachresult.remove(b.seachresult.indexOf(c)),0==b.seachresult.length)return b.searchall(),b.seachresult=[],!1;for(var d=0;d<b.seachresult.length;d++)b.listpro[b.seachresult[d]]=a.prodata[b.seachresult[d]];b.newlistpro=b.buildData()}}]);